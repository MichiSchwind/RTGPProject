# Name der Datei
FILENAME = RTGPProject

# Xcode Compiler
CXX = clang++

# Include-Pfad
IDIR = include

# Bibliotheks-Pfad
LDIR = libs/mac_intel

# MacOS Frameworks
MACFW = -framework OpenGL -framework IOKit -framework Cocoa -framework CoreVideo

# Compiler-Flags:
CXXFLAGS = -g -O0 -x c++ -mmacosx-version-min=11.1 -Wall -Wno-invalid-offsetof -std=c++11 -I$(IDIR)

# Linker-Flags:
LDFLAGS = -L$(LDIR) -lglfw3 -lassimp -lz -lminizip -lkubazip -lpoly2tri -ldraco -lpugixml $(MACFW)

# Liste der Quelldateien
SOURCES = include/glad/glad.c 

# Liste der IMGui Quelldateien
IMGUI_SOURCES = include/imgui/imgui.cpp include/imgui/imgui_draw.cpp include/imgui/imgui_tables.cpp include/imgui/imgui_widgets.cpp include/imgui/imgui_impl_glfw.cpp include/imgui/imgui_impl_opengl3.cpp $(FILENAME).cpp

# Zielname
TARGET = $(FILENAME).out

.PHONY: all
all: $(TARGET)

$(TARGET): $(SOURCES) $(IMGUI_SOURCES)
	$(CXX) $(CXXFLAGS) $(LDFLAGS) $^ -o $@

.PHONY: clean
clean:
	rm -f $(TARGET)
